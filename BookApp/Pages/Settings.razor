@page "/settings"
@using System.ComponentModel.DataAnnotations
@using Models;
@inject NavigationManager navManager

<TelerikTileLayout Columns="3"
                   RowHeight="400px"
                   ColumnWidth="380px"
                   Reorderable="true"
                   Resizable="true">
    <TileLayoutItems>
        <TileLayoutItem RowSpan="2" ColSpan="2">
            <Content>
                <div class="k-d-flex-col">
                    <div class="k-align-items-start">
                        <TelerikButton Title="account-button" 
                                       Icon="user" 
                                       ThemeColor="@(ThemeConstants.Button.ThemeColor.Primary)"
                                       FillMode="@(ThemeConstants.Button.FillMode.Flat)" 
                                       Class="k-state-selected">Account</TelerikButton>
                        <TelerikButton Title="security-button" 
                                       Icon="lock" 
                                       Enabled="false"
                                       ThemeColor="@(ThemeConstants.Button.ThemeColor.Secondary)" 
                                       FillMode="@(ThemeConstants.Button.FillMode.Flat)">Security</TelerikButton>
                        <div class="k-separator">&nbsp;</div>
                    </div>
                    <div class="k-d-flex-row k-justify-content-around">
                        <div class="k-icon k-i-user" style="font-size:2em;padding:30px"></div>
                        <TelerikForm EditContext="@EditContext" Columns="2" ColumnSpacing="20px" Width="100%">
                            <FormValidation>
                                <DataAnnotationsValidator></DataAnnotationsValidator>
                            </FormValidation>
                            <FormItems>
                                <FormGroup>
                                    <FormItem Field="@nameof(settingsModel.Username)"></FormItem>
                                    <FormItem Field="@nameof(settingsModel.Nickname)"></FormItem>
                                </FormGroup>
                                <FormGroup>
                                    <FormItem Field="@nameof(settingsModel.Email)"></FormItem>
                                    <FormItem Field="@nameof(settingsModel.Phone)"></FormItem>
                                </FormGroup>
                            </FormItems>
                            <FormButtons>
                            </FormButtons>
                        </TelerikForm>
                    </div>
                    <div class="k-d-flex-row k-justify-content-around">
                        <div class="k-icon k-i-information" style="font-size:2em;padding:30px"></div>
                        <TelerikForm EditContext="@EditContext" Columns="2" ColumnSpacing="20px" Width="100%">
                            <FormValidation>
                            </FormValidation>
                            <FormItems>
                                <FormGroup>
                                    <FormItem Field="@nameof(settingsModel.BirthDate)">
                                        <Template>
                                            Birth Date
                                            <TelerikDateInput @bind-Value="@settingsModel.BirthDate" Format="dd MMMM yyyy">
                                            </TelerikDateInput>
                                        </Template>
                                    </FormItem>
                                    <FormItem Field="@nameof(settingsModel.Website)"></FormItem>
                                </FormGroup>                                
                                <FormGroup>                              
                                    <FormItem Field="@nameof(settingsModel.Phone)"></FormItem>
                                </FormGroup>
                            </FormItems>
                            <FormButtons>
                            </FormButtons>
                        </TelerikForm>
                    </div>
                    <br />
                </div>
            </Content>
        </TileLayoutItem>
    </TileLayoutItems>
</TelerikTileLayout>

<TelerikWindow Class="demo-window" Width="500px" Height="300px" Centered="true" @bind-Visible=@WindowVisible Modal="true">
    <WindowTitle>
        <strong>Changed Settings</strong>
    </WindowTitle>
    <WindowActions>
        <WindowAction Name="Close" />
    </WindowActions>
    <WindowContent>
        <h5 style="text-align: center; margin-top: 55px;">Successfully made changes!</h5>
        <TelerikButton Class="window-btn" OnClick="@WindowButtonClicked" ThemeColor="@(ThemeConstants.Button.ThemeColor.Primary)">Return to Home Page</TelerikButton>
    </WindowContent>
</TelerikWindow>

<style>
    #settings .k-card-header {
        border-style: none;
    }

    .demo-window {
        z-index: 44444;
    }

    .k-justify-content-around {
        justify-content: normal;
    }

    .disabled-btn {
        float: right;
    }

    .window-btn {
        width: 100%;
        margin-top: 75px;
    }

</style>
